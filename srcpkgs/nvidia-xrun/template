# -*- sh -*-
# Template file for 'nvidia-xrun'
pkgname=nvidia-xrun
version=0.4
revision=1
archs=noarch
depends="bash"
short_desc="Utility to run separate X with discrete nvidia graphics with full performance"
maintainer="Hristos N. Triantafillou <voidpkg@hristos.lol>"
license="GPL-2.0-or-later"
homepage="https://git.sr.ht/~hristoast/nvidia-xrun"
changelog="https://git.sr.ht/~hristoast/nvidia-xrun/log"
distfiles="${homepage}/archive/${version}.tar.gz"
checksum=4c44c9077ae8c915e63f984fd9afce5c9985e6d47cca5c7d3910eec0fb641d36
_pkg="${pkgname}-${version}"

do_install() {
    vinstall nvidia-xinitrc 0644 etc/X11/xinit
    vinstall nvidia-xorg.conf 0644 etc/X11
    vinstall config/nvidia-xrun 0644 etc/default
    vinstall launchers/nvidia-xrun-openbox.desktop 0755 usr/share/xsessions
    vinstall launchers/nvidia-xrun-plasma.desktop 0755 usr/share/xsessions

    vbin nvidia-xrun
}

post_install() {
	vlicense LICENSE
}
